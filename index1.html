<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AR Marker Scanner</title>
  <!-- Updated A-Frame for better compatibility -->
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <!-- Updated AR.js from current maintainers -->
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
      height: 100%;
      font-family: sans-serif;
    }

    #info {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.6);
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      text-align: center;
      z-index: 100;
    }

    .arjs-loader {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 1.25em;
    }
  </style>
</head>
<body>
  <!-- Loading indicator -->
  <div class="arjs-loader">
    <div>Loading AR experience... Please allow camera access.</div>
  </div>

  <!-- Info text -->
  <div id="info">Point your camera at the marker. A 3D object will appear.</div>

  <!-- AR Scene -->
  <a-scene 
    embedded 
    arjs="sourceType: webcam; debugUIEnabled: false;"
    renderer="antialias: true; alpha: true"
    vr-mode-ui="enabled: false">
    
    <!-- Marker using preset for easier setup -->
    <a-marker preset="hiro">
      <!-- 3D Model with animation -->
      <a-entity
        gltf-model="https://raw.githack.com/AR-js-org/AR.js/master/aframe/examples/image-tracking/nft/trex/scene.gltf"
        scale="0.05 0.05 0.05"
        rotation="0 180 0"
        position="0 0 0"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 5000">
      </a-entity>
    </a-marker>

    <!-- Camera -->
    <a-entity camera></a-entity>
  </a-scene>

  <script>
    // Remove loader once scene is loaded
    document.querySelector('a-scene').addEventListener('loaded', function() {
      document.querySelector('.arjs-loader').style.display = 'none';
    });
  </script>
</body>
</html>
